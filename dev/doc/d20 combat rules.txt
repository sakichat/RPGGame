attack roll{
  attackRoll = d20 + getAttackBonus();
  // attackRoll not defined

  if(d20 == 1){
    miss;
    attackRoll = 0;
  } else {

    if(d20 == 20) {
      newAttackRoll = d20 + getAttackBonus();
      // newAttackRoll not defined

      if (newAttackRoll >= hostilePlayer.ATTRIBUTE_ARMOR_CLASS) {
        criticalRoll = attackRoll + newAttackRoll;
        // criticalRoll not defined
        threatRange = 20;
        // threatRange not defined
        modifier = 2;
        // Exception: Extra damage dice over and above a weaponâ€™s normal damage
        // is not multiplied when you score a critical hit.
      } else {

        if(attackRoll >= hostilePlayer.ATTRIBUTE_ARMOR_CLASS) {
          attackRoll = attackRoll;
        }
      }
    }
  }
}

attack bonus with a melee weapon{
  meleeAB = ATTRIBUTE_ATTACK_BONUS + ABILITY_STR + sizeModifier
  // sizeModifier not defined
}

attack bonus with a melee weapon{
  rangedAB= ATTRIBUTE_ATTACK_BONUS + ABILITY_DEX + sizeModifier + range
  // range -> range penalty
}

http://www.d20srd.org/srd/combat/combatStatistics.htm
